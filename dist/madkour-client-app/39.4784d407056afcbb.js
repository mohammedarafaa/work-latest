"use strict";(self.webpackChunkmadkour_client_app=self.webpackChunkmadkour_client_app||[]).push([[39],{8039:(ft,b,c)=>{c.r(b),c.d(b,{ProfileModule:()=>dt});var l=c(177),p=c(8498),r=c(9417),C=c(5312),P=c(1444),t=c(7705),m=c(1486),v=c(7736),d=c(8147),_=c(788);function M(n,a){if(1&n&&(t.j41(0,"a",17),t.nrm(1,"i",18),t.j41(2,"span",19),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&n){const e=a.$implicit,i=t.XpG();t.AVh("active",i.isActive(e.href)),t.FS9("routerLink",e.href),t.R7$(1),t.Y8G("ngClass",null==e?null:e.icon),t.R7$(2),t.JRh(t.bMT(4,5,e.name))}}let F=(()=>{class n{constructor(e,i,o,s,f){this.fb=e,this.router=i,this.profileService=o,this.authService=s,this.translate=f,this.form=this.fb.group({}),this.selectedFileUrl="",this.mediaUrl=C.c.mediaUrl,this.url="assets/images/avatar.png",this.isLoading=!1,this.profileUrl="assets/img/avatar/avatar.png",this.currentLink="/",this.allLinks=[]}ngOnInit(){const e=this.authService.getAccountType();this.allLinks=P.v.filter(i=>null===i.isAuthorize||(Array.isArray(i.isAuthorize)?i.isAuthorize.includes(e):i.isAuthorize===e)),this.createForm(),this.currentLink=this.router.url}createForm(){this.form=this.fb.group({image:["",r.k0.required]})}getProfileData(){this.profileService.getPersonalInfo().subscribe({next:e=>{console.log(e),e.data&&(this.currentUser=e.data,this.profileService.user=e.data)}})}getProfilePic(){return this.currentUser?.user_image?`${this.mediaUrl}${this.currentUser?.user_image}`:this.profileUrl}onAttachmentSelect(e){const i=e.target.files[0];if(i){const o=new FileReader;o.onload=s=>{this.selectedFileUrl=s.target.result},o.readAsDataURL(i),this.selectedFile=i,this.onApprove()}}onApprove(){this.isLoading=!0;const e=new FormData;e.delete("image"),this.selectedFile&&e.append("image",this.selectedFile,this.selectedFile.name)}isActive(e){return this.router.url==e}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(r.ok),t.rXU(p.Ix),t.rXU(m.p),t.rXU(v.k),t.rXU(d.c$))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-profile-main"]],decls:19,vars:6,consts:[[1,"row","pt-2"],[1,"col-xl-4","col-md-5"],[1,"card"],[1,"d-flex","flex-column","align-items-center"],["autocomplete","off",3,"formGroup"],["for","edit_img",1,"avatar","profile-cover-avatar","m-0"],["alt","Profile Image",1,"avatar-img","w-100","h-50",3,"src"],["type","file","accept","image/*","id","edit_img"],["placement","end",1,"btn","btn-outline-primary","avatar-edit",3,"ngbTooltip","click"],[1,"avatar-uploader-icon","shadow-soft","bi","bi-camera","text-primary"],["formControlName","image","type","file","accept","image/*","multiple","false","hidden","",3,"change"],["image",""],[1,"widget","settings-menu","p-2"],[1,"bs-component"],[1,"list-group"],["ngFor","",3,"ngForOf"],[1,"col-xl-8","col-md-7"],[1,"list-group-item","list-group-item-action","my-1",3,"routerLink"],[3,"ngClass"],[1,"ps-2"]],template:function(i,o){if(1&i){const s=t.RV6();t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4)(5,"label",5),t.nrm(6,"img",6)(7,"input",7),t.j41(8,"button",8),t.bIt("click",function(){t.eBV(s);const u=t.sdS(12);return t.Njj(u.click())}),t.nI1(9,"translate"),t.nrm(10,"i",9),t.k0s(),t.j41(11,"input",10,11),t.bIt("change",function(u){return o.onAttachmentSelect(u)}),t.k0s()()()(),t.j41(13,"div",12)(14,"div",13)(15,"div",14),t.DNE(16,M,5,7,"ng-template",15),t.k0s()()()()(),t.j41(17,"div",16),t.nrm(18,"router-outlet"),t.k0s()()}2&i&&(t.R7$(4),t.Y8G("formGroup",o.form),t.R7$(2),t.Y8G("src",o.getProfilePic(),t.B4B),t.R7$(2),t.FS9("ngbTooltip",t.bMT(9,4,"Upload_Pro")),t.R7$(8),t.Y8G("ngForOf",o.allLinks))},dependencies:[l.YU,l.Sq,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,_.md,p.n3,p.Wk,d.D9],styles:[".custom-file-btn[_ngcontent-%COMP%]{position:relative;overflow:hidden}.custom-file-btn-input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;opacity:0}.profile-cover-avatar[_ngcontent-%COMP%]{display:flex;border-radius:50%;width:100%;height:100%;position:relative}.profile-cover-avatar[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;left:0;z-index:-1;opacity:0;width:100%;height:100%;background-color:#13214440;border-radius:50%;transition:.2s}.avatar-edit[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;cursor:pointer;width:36px;height:36px;display:inline-flex;flex-shrink:0;justify-content:center;align-items:center;color:#677788;background-color:#fff;border-radius:50%;transition:.2s;box-shadow:0 3px 6px #8c98a440}.avatar-edit[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px}"]})}}return n})();var g=c(9661);function O(n,a){1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"oldPassword_Req")))}function R(n,a){if(1&n&&(t.j41(0,"div",18),t.DNE(1,O,3,3,"div",19),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",e.f.oldPassword.errors.required)}}function k(n,a){1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"newPassword_Req")))}function y(n,a){if(1&n&&(t.j41(0,"div",18),t.DNE(1,k,3,3,"div",19),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",e.f.newPassword.errors.required)}}function w(n,a){1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"confirmPassword_Req")))}function E(n,a){if(1&n&&(t.j41(0,"div",18),t.DNE(1,w,3,3,"div",19),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",e.f.confirmPassword_Req.errors.required)}}function x(n,a){1&n&&t.nrm(0,"span",20)}const I=function(n,a){return{"is-invalid":n,"is-valid":a}};let T=(()=>{class n{constructor(e,i,o,s){this.fb=e,this.profileService=i,this.notificationService=o,this.translate=s,this.form=this.fb.group({}),this.isLoading=!1}ngOnInit(){this.createForm()}get f(){return this.form.controls}createForm(){this.form=this.fb.group({oldPassword:["",r.k0.required],newPassword:["",r.k0.required],confirmPassword_Req:["",r.k0.required]})}onUpdatePassword(){this.form.get("newPassword")?.value==this.form.get("confirmPassword_Req")?.value?(this.isLoading=!0,this.profileService.changePassword(this.form.value).subscribe({next:e=>{200===e.status?(this.notificationService.SuccessNotification(this.translate.instant("Update_Password_msg")),this.form.reset()):(this.notificationService.ErrorNotification(this.translate.instant(e.code.toString())),this.isLoading=!1)},error:e=>{this.notificationService.ErrorNotification(this.translate.instant(e.message)),this.isLoading=!1},complete:()=>this.isLoading=!1})):this.notificationService.ErrorNotification(this.translate.instant("Password_Not_Match"))}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(r.ok),t.rXU(m.p),t.rXU(g.u),t.rXU(d.c$))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-change-password"]],decls:37,vars:34,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["autocomplete","off",3,"formGroup"],[1,"row","form-group","mb-3"],["for","oldPassword",1,"col-sm-3","col-form-label","input-label",3,"ngClass"],[1,"col-sm-9"],["type","password","id","oldPassword","formControlName","oldPassword","onfocus","this.removeAttribute('readonly');",1,"form-control",3,"placeholder"],["class","invalid-feedback",4,"ngIf"],["for","newPassword",1,"col-sm-3","col-form-label","input-label"],["type","password","id","newPassword","formControlName","newPassword",1,"form-control",3,"placeholder"],["for","confirm_password",1,"col-sm-3","col-form-label","input-label"],[1,"mb-3"],["type","password","id","confirmPassword_Req","formControlName","confirmPassword_Req",1,"form-control",3,"placeholder"],[1,"text-end"],["type","button",1,"btn","btn-primary",3,"click"],["class","spinner-border spinner-border-sm me-1","role","status","aria-hidden","true",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-1"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"h2",2),t.EFF(3),t.nI1(4,"translate"),t.k0s()(),t.j41(5,"div",3)(6,"form",4)(7,"div",5)(8,"label",6),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"div",7),t.nrm(12,"input",8),t.nI1(13,"translate"),t.DNE(14,R,2,1,"div",9),t.k0s()(),t.j41(15,"div",5)(16,"label",10),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"div",7),t.nrm(20,"input",11),t.nI1(21,"translate"),t.DNE(22,y,2,1,"div",9),t.k0s()(),t.j41(23,"div",5)(24,"label",12),t.EFF(25),t.nI1(26,"translate"),t.k0s(),t.j41(27,"div",7)(28,"div",13),t.nrm(29,"input",14),t.nI1(30,"translate"),t.DNE(31,E,2,1,"div",9),t.k0s()()(),t.j41(32,"div",15)(33,"button",16),t.bIt("click",function(){return o.onUpdatePassword()}),t.DNE(34,x,1,0,"span",17),t.EFF(35),t.nI1(36,"translate"),t.k0s()()()()()),2&i&&(t.R7$(3),t.JRh(t.bMT(4,15,"Change_Password")),t.R7$(3),t.Y8G("formGroup",o.form),t.R7$(2),t.Y8G("ngClass",t.l_i(31,I,o.f.oldPassword.touched&&o.f.oldPassword.errors,o.f.oldPassword.valid)),t.R7$(1),t.JRh(t.bMT(10,17,"oldPassword")),t.R7$(3),t.FS9("placeholder",t.bMT(13,19,"oldPassword_Place")),t.R7$(2),t.Y8G("ngIf",o.f.oldPassword.touched&&o.f.oldPassword.errors),t.R7$(3),t.JRh(t.bMT(18,21,"newPassword")),t.R7$(3),t.FS9("placeholder",t.bMT(21,23,"newPassword_Place")),t.R7$(2),t.Y8G("ngIf",o.f.newPassword.touched&&o.f.newPassword.errors),t.R7$(3),t.JRh(t.bMT(26,25,"confirmPassword_Req")),t.R7$(4),t.FS9("placeholder",t.bMT(30,27,"confirmPassword_Place")),t.R7$(2),t.Y8G("ngIf",o.f.confirmPassword_Req.touched&&o.f.confirmPassword_Req.errors),t.R7$(2),t.BMQ("disabled",!o.form.valid||null),t.R7$(1),t.Y8G("ngIf",o.isLoading),t.R7$(1),t.SpI(" ",t.bMT(36,29,"Change_Password")," "))},dependencies:[l.YU,l.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,d.D9]})}}return n})();var $=c(9113);function N(n,a){1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"Full_Name_Req")))}function j(n,a){if(1&n&&(t.j41(0,"div",19),t.DNE(1,N,3,3,"div",20),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",e.f.fullName.errors.required)}}function S(n,a){1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"Username_Req")))}function q(n,a){if(1&n&&(t.j41(0,"div",19),t.DNE(1,S,3,3,"div",20),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",e.f.username.errors.required)}}function U(n,a){1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"E_Mail_Req")))}function G(n,a){1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"E_Mail_inValid")))}function D(n,a){if(1&n&&(t.j41(0,"div",19),t.DNE(1,U,3,3,"div",20),t.DNE(2,G,3,3,"div",20),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",e.f.email.errors.required),t.R7$(1),t.Y8G("ngIf",e.f.email.errors.email)}}function L(n,a){1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"Phone_Number_Req")))}function A(n,a){1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"Phone_Number_inValid")))}function J(n,a){if(1&n&&(t.j41(0,"div",19),t.DNE(1,L,3,3,"div",20),t.DNE(2,A,3,3,"div",20),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",e.f.phoneNumber.errors.required),t.R7$(1),t.Y8G("ngIf",e.f.phoneNumber.errors.pattern)}}function Y(n,a){1&n&&t.nrm(0,"span",21)}const h=function(n,a){return{"is-invalid":n,"is-valid":a}};let X=(()=>{class n{constructor(e,i,o,s,f){this.profileService=e,this.fb=i,this.shared=o,this.notificationService=s,this.translate=f,this.form=this.fb.group({}),this._isLoading=!1,this.isLoading=!1}get f(){return this.form.controls}ngOnInit(){this.getProfileData(),this.createForm()}createForm(){this.form=this.fb.group({email:["",[r.k0.required,r.k0.email]],phoneNumber:["",[r.k0.required,r.k0.pattern("(01)[0125][0-9 ]{8}")]],username:["",r.k0.required],fullName:["",r.k0.required]})}setFormValue(e){this.f.email.setValue(e.email),this.f.phoneNumber.setValue(e.phoneNumber),this.f.fullName.setValue(e.fullName),this.f.username.setValue(e.username)}getProfileData(){this.profileService.getPersonalInfo().subscribe({next:e=>{console.log(e),e&&(this.currentUser=e.data,this.profileService.user=e.data,this.setFormValue(this.currentUser)),this.isLoading=!1},error:e=>{this.notificationService.ErrorNotification(this.translate.instant(`${e}`)),this.isLoading=!1},complete:()=>{this.isLoading=!1}})}onUpdateProfie(){this.isLoading=!0,this.profileService.editProfile(this.form.value).subscribe({next:e=>{console.log(e),200===e.code?this.notificationService.SuccessNotification(this.translate.instant("Update_Profile_msg")):(this.notificationService.ErrorNotification(e.code),this.isLoading=!1)},error:e=>{this.notificationService.ErrorNotification(this.translate.instant("Update_Profile_Error")),this.isLoading=!1},complete:()=>this.isLoading=!1})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(m.p),t.rXU(r.ok),t.rXU($.d),t.rXU(g.u),t.rXU(d.c$))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-edit-profile"]],decls:44,vars:53,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["autocomplete","off",3,"formGroup"],[1,"row","form-group","mb-3"],["for","fullName",1,"col-sm-3","col-form-label","input-label"],[1,"col-sm-9"],["type","text","readonly","","id","fullName","formControlName","fullName","onfocus","this.removeAttribute('readonly');",1,"form-control",3,"placeholder","ngClass"],["class","invalid-feedback",4,"ngIf"],["for","username",1,"col-sm-3","col-form-label","input-label"],["type","text","readonly","","id","username","formControlName","username","onfocus","this.removeAttribute('readonly');",1,"form-control",3,"placeholder","ngClass"],["for","email",1,"col-sm-3","col-form-label","input-label"],["type","text","readonly","","id","email","formControlName","email","onfocus","this.removeAttribute('readonly');",1,"form-control",3,"placeholder","ngClass"],["for","phoneNumber",1,"col-sm-3","col-form-label","input-label"],["type","text","readonly","","id","phoneNumber","formControlName","phoneNumber","onfocus","this.removeAttribute('readonly');",1,"form-control",3,"placeholder","ngClass"],[1,"text-end"],["type","button",1,"btn","btn-primary",3,"click"],["class","spinner-border spinner-border-sm me-1","role","status","aria-hidden","true",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-1"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"h2",2),t.EFF(3),t.nI1(4,"translate"),t.k0s()(),t.j41(5,"div",3)(6,"form",4)(7,"div",5)(8,"label",6),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"div",7),t.nrm(12,"input",8),t.nI1(13,"translate"),t.DNE(14,j,2,1,"div",9),t.k0s()(),t.j41(15,"div",5)(16,"label",10),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"div",7),t.nrm(20,"input",11),t.nI1(21,"translate"),t.DNE(22,q,2,1,"div",9),t.k0s()(),t.j41(23,"div",5)(24,"label",12),t.EFF(25),t.nI1(26,"translate"),t.k0s(),t.j41(27,"div",7),t.nrm(28,"input",13),t.nI1(29,"translate"),t.DNE(30,D,3,2,"div",9),t.k0s()(),t.j41(31,"div",5)(32,"label",14),t.EFF(33),t.nI1(34,"translate"),t.k0s(),t.j41(35,"div",7),t.nrm(36,"input",15),t.nI1(37,"translate"),t.DNE(38,J,3,2,"div",9),t.k0s()(),t.j41(39,"div",16)(40,"button",17),t.bIt("click",function(){return o.onUpdateProfie()}),t.DNE(41,Y,1,0,"span",18),t.EFF(42),t.nI1(43,"translate"),t.k0s()()()()()),2&i&&(t.R7$(3),t.JRh(t.bMT(4,21,"Edit_Profile")),t.R7$(3),t.Y8G("formGroup",o.form),t.R7$(3),t.JRh(t.bMT(10,23,"Full_Name")),t.R7$(3),t.FS9("placeholder",t.bMT(13,25,"Full_Name_Place")),t.Y8G("ngClass",t.l_i(41,h,o.f.fullName.touched&&o.f.fullName.errors,o.f.fullName.valid)),t.R7$(2),t.Y8G("ngIf",o.f.fullName.touched&&o.f.fullName.errors),t.R7$(3),t.JRh(t.bMT(18,27,"Username")),t.R7$(3),t.FS9("placeholder",t.bMT(21,29,"Username_Place")),t.Y8G("ngClass",t.l_i(44,h,o.f.username.touched&&o.f.username.errors,o.f.username.valid)),t.R7$(2),t.Y8G("ngIf",o.f.username.touched&&o.f.username.errors),t.R7$(3),t.JRh(t.bMT(26,31,"E_Mail")),t.R7$(3),t.FS9("placeholder",t.bMT(29,33,"E_Mail_Place")),t.Y8G("ngClass",t.l_i(47,h,o.f.email.touched&&o.f.email.errors,o.f.email.valid)),t.R7$(2),t.Y8G("ngIf",o.f.email.touched&&o.f.email.errors),t.R7$(3),t.JRh(t.bMT(34,35,"Phone_Number")),t.R7$(3),t.FS9("placeholder",t.bMT(37,37,"Phone_Number_Place")),t.Y8G("ngClass",t.l_i(50,h,o.f.phoneNumber.touched&&o.f.phoneNumber.errors,o.f.phoneNumber.valid)),t.R7$(2),t.Y8G("ngIf",o.f.phoneNumber.touched&&o.f.phoneNumber.errors),t.R7$(2),t.BMQ("disabled",!o.form.valid||null),t.R7$(1),t.Y8G("ngIf",o.isLoading),t.R7$(1),t.SpI(" ",t.bMT(43,39,"Update")," "))},dependencies:[l.YU,l.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,d.D9]})}}return n})();function V(n,a){if(1&n&&(t.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"h5",9),t.EFF(6),t.nI1(7,"translate"),t.j41(8,"span",10),t.EFF(9,":"),t.k0s()()(),t.j41(10,"div",11)(11,"span"),t.EFF(12),t.k0s()()(),t.j41(13,"div",7)(14,"div",8)(15,"h5",9),t.EFF(16),t.nI1(17,"translate"),t.j41(18,"span",10),t.EFF(19,":"),t.k0s()()(),t.j41(20,"div",11)(21,"span"),t.EFF(22),t.k0s()()(),t.j41(23,"div",7)(24,"div",8)(25,"h5",9),t.EFF(26),t.nI1(27,"translate"),t.j41(28,"span",10),t.EFF(29,":"),t.k0s()()(),t.j41(30,"div",11)(31,"span"),t.EFF(32),t.k0s()()(),t.j41(33,"div",7)(34,"div",8)(35,"h5",9),t.EFF(36),t.nI1(37,"translate"),t.j41(38,"span",10),t.EFF(39,":"),t.k0s()()(),t.j41(40,"div",11)(41,"span"),t.EFF(42),t.k0s()()(),t.j41(43,"div",7)(44,"div",8)(45,"h5",9),t.EFF(46),t.nI1(47,"translate"),t.j41(48,"span",10),t.EFF(49,":"),t.k0s()()(),t.j41(50,"div",11)(51,"span"),t.EFF(52),t.k0s()()(),t.j41(53,"div",7)(54,"div",8)(55,"h5",9),t.EFF(56),t.nI1(57,"translate"),t.j41(58,"span",10),t.EFF(59,":"),t.k0s()()(),t.j41(60,"div",11)(61,"span"),t.EFF(62),t.k0s()()(),t.j41(63,"div",7)(64,"div",8)(65,"h5",9),t.EFF(66),t.nI1(67,"translate"),t.j41(68,"span",10),t.EFF(69,":"),t.k0s()()(),t.j41(70,"div",11)(71,"span",12),t.EFF(72),t.k0s()()()()()()),2&n){const e=t.XpG();t.R7$(6),t.SpI(" ",t.bMT(7,14,"Fullname")," "),t.R7$(6),t.JRh(e.currentUser.fullName),t.R7$(4),t.SpI(" ",t.bMT(17,16,"userName")," "),t.R7$(6),t.JRh(e.currentUser.username),t.R7$(4),t.SpI(" ",t.bMT(27,18,"Phone_Number")," "),t.R7$(6),t.JRh(e.currentUser.phoneNumber),t.R7$(4),t.SpI(" ",t.bMT(37,20,"Email")," "),t.R7$(6),t.JRh(e.currentUser.email),t.R7$(4),t.SpI(" ",t.bMT(47,22,"street")," "),t.R7$(6),t.JRh(e.currentUser.street),t.R7$(4),t.SpI(" ",t.bMT(57,24,"buildingNumber")," "),t.R7$(6),t.JRh(e.currentUser.buildingNumber),t.R7$(4),t.SpI(" ",t.bMT(67,26,"AccountType")," "),t.R7$(6),t.JRh(e.currentUser.accountType)}}let z=(()=>{class n{constructor(e,i,o){this.notificationService=e,this.translate=i,this.profileService=o,this.isLoading=!0}ngOnInit(){this.isLoading=!0,this.getProfileData()}uploadProfilePic(){this.isLoading=!0,new FormData}getProfileData(){this.profileService.getPersonalInfo().subscribe({next:e=>{console.log(e),e.data&&(this.currentUser=e.data,this.profileService.user=e.data),this.isLoading=!1},error:e=>{this.isLoading=!1},complete:()=>{this.isLoading=!1}})}onAttachmentSelect(e){const i=e.target.files[0],o=new FileReader;o.onload=s=>{this.profileUrl=s.target.result,this.profileFile=new Blob([i],{type:i})},o.onerror=s=>{this.notificationService.ErrorNotification(this.translate.instant("Chang"))},o.readAsDataURL(e.target.files[0])}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(g.u),t.rXU(d.c$),t.rXU(m.p))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-view-profile"]],decls:6,vars:4,consts:[[1,"card"],[1,"card-header"],[1,"card-title","text-primary"],["class","card-body",4,"ngIf"],[1,"card-body"],["id","about-me"],[1,"profile-personal-info"],[1,"row","mb-2"],[1,"col-sm-3","col-5"],[1,"f-w-500"],[1,"pull-right"],[1,"col-sm-9","col-7"],[1,"badge","bg-info"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"h2",2),t.EFF(3),t.nI1(4,"translate"),t.k0s()(),t.DNE(5,V,73,28,"div",3),t.k0s()),2&i&&(t.R7$(3),t.JRh(t.bMT(4,2,"Profile_info")),t.R7$(2),t.Y8G("ngIf",o.currentUser))},dependencies:[l.bT,d.D9],styles:[".card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 4px #0000001a;background-color:#fff;margin-bottom:15px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #ddd;padding:15px;border-radius:8px 8px 0 0}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#333}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:15px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-personal-info[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-bottom:10px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-personal-info[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#666;margin-bottom:0}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-personal-info[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   .pull-right[_ngcontent-%COMP%]{margin-left:5px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-personal-info[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#333;font-weight:400}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-personal-info[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.85em;padding:.4em .6em;border-radius:3px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-personal-info[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .badge.bg-info[_ngcontent-%COMP%]{background-color:#17a2b8!important;color:#fff}@media (max-width: 768px){.card-body[_ngcontent-%COMP%]{padding:10px}.card-body[_ngcontent-%COMP%]   .profile-personal-info[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;margin-bottom:10px}.card-body[_ngcontent-%COMP%]   .profile-personal-info[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-sm-3[_ngcontent-%COMP%], .card-body[_ngcontent-%COMP%]   .profile-personal-info[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-5[_ngcontent-%COMP%]{width:100%;margin-bottom:5px}.card-body[_ngcontent-%COMP%]   .profile-personal-info[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{width:100%}.card-body[_ngcontent-%COMP%]   .profile-personal-info[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   .pull-right[_ngcontent-%COMP%]{display:none}}"]})}}return n})();function B(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",9)(1,"div",10),t.bIt("click",function(){const s=t.eBV(e).$implicit,f=t.XpG();return t.Njj(f.toggleFaq(s.id))}),t.j41(2,"h3"),t.EFF(3),t.k0s(),t.nrm(4,"i",11),t.k0s(),t.j41(5,"div",12)(6,"p"),t.EFF(7),t.k0s()()()}if(2&n){const e=a.$implicit,i=t.XpG();t.AVh("active",i.activeFaqId===e.id),t.R7$(3),t.JRh(e.questionEn),t.R7$(4),t.JRh(e.answerEn)}}let H=(()=>{class n{constructor(e){this.profileService=e,this.faqs=[],this.callCenterNumber="+1234567890",this.supportEmail="support@example.com",this.activeFaqId=null}ngOnInit(){this.loadFAQs()}loadFAQs(){this.profileService.getFaqs().subscribe({next:e=>{this.faqs=e.data},error:e=>{console.error("Error loading FAQs:",e)}})}openPhoneDialer(){window.location.href=`tel:${this.callCenterNumber}`}openEmailClient(){window.location.href=`mailto:${this.supportEmail}`}toggleFaq(e){this.activeFaqId=this.activeFaqId===e?null:e}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(m.p))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-support"]],decls:26,vars:15,consts:[[1,"support-container"],[1,"contact-section"],[1,"contact-cards"],[1,"contact-card",3,"click"],[1,"fas","fa-phone"],[1,"fas","fa-envelope"],[1,"faq-section"],[1,"faq-list"],["class","faq-item",3,"active",4,"ngFor","ngForOf"],[1,"faq-item"],[1,"faq-question",3,"click"],[1,"fas","fa-chevron-down"],[1,"faq-answer"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"h2"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",2)(6,"div",3),t.bIt("click",function(){return o.openPhoneDialer()}),t.nrm(7,"i",4),t.j41(8,"h3"),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"p"),t.EFF(12),t.k0s()(),t.j41(13,"div",3),t.bIt("click",function(){return o.openEmailClient()}),t.nrm(14,"i",5),t.j41(15,"h3"),t.EFF(16),t.nI1(17,"translate"),t.k0s(),t.j41(18,"p"),t.EFF(19),t.k0s()()()(),t.j41(20,"div",6)(21,"h2"),t.EFF(22),t.nI1(23,"translate"),t.k0s(),t.j41(24,"div",7),t.DNE(25,B,8,4,"div",8),t.k0s()()()),2&i&&(t.R7$(3),t.JRh(t.bMT(4,7,"Contact Support")),t.R7$(6),t.JRh(t.bMT(10,9,"Call Center")),t.R7$(3),t.JRh(o.callCenterNumber),t.R7$(4),t.JRh(t.bMT(17,11,"Email Support")),t.R7$(3),t.JRh(o.supportEmail),t.R7$(3),t.JRh(t.bMT(23,13,"FAQ")),t.R7$(3),t.Y8G("ngForOf",o.faqs))},dependencies:[l.Sq,d.D9],styles:[".support-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem;background-color:#f0f2f5}@media (max-width: 768px){.support-container[_ngcontent-%COMP%]{padding:1rem}}.contact-section[_ngcontent-%COMP%]{margin-bottom:3rem}.contact-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:1.5rem;color:#333;font-weight:600}.contact-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}@media (max-width: 768px){.contact-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}.contact-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;text-align:center;box-shadow:0 2px 4px #0000001a;cursor:pointer;transition:transform .3s ease,box-shadow .3s ease;border:1px solid #ddd}.contact-card[_ngcontent-%COMP%]:hover{transform:translateY(-7px);box-shadow:0 4px 8px #00000026;border-color:#007bff}.contact-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;color:#007bff;margin-bottom:1rem;transition:transform .2s ease}.contact-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.5rem;color:#333;font-weight:600}.contact-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#555;margin:0}.faq-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:1.5rem;color:#333;font-weight:600}.faq-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.faq-item[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 4px #0000001a;border:1px solid #ddd;transition:all .3s ease-in-out}.faq-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000026;border-color:#007bff}.faq-question[_ngcontent-%COMP%]{padding:1.5rem;display:flex;justify-content:space-between;align-items:center;cursor:pointer;background:#f8f9fa;border-bottom:1px solid #ddd;transition:background-color .2s ease}.faq-question[_ngcontent-%COMP%]:hover{background:#e9ecef}.faq-question[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;margin:0;color:#333;font-weight:500}.faq-question[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;transition:transform .3s ease}.faq-answer[_ngcontent-%COMP%]{padding:0 1.5rem;max-height:0;overflow:hidden;transition:max-height .4s ease-out,padding .4s ease-out}.faq-answer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1rem 0;color:#555;line-height:1.6}.faq-item.active[_ngcontent-%COMP%]   .faq-question[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-bottom-color:#007bff}.faq-item.active[_ngcontent-%COMP%]   .faq-question[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .faq-item.active[_ngcontent-%COMP%]   .faq-question[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.faq-item.active[_ngcontent-%COMP%]   .faq-question[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotate(180deg)}.faq-item.active[_ngcontent-%COMP%]   .faq-answer[_ngcontent-%COMP%]{max-height:500px;padding:0 1.5rem 1.5rem}@media (max-width: 768px){.faq-question[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return n})();var Q=c(4342),W=c(9344),K=c(8897);function Z(n,a){1&n&&(t.j41(0,"div",15)(1,"div",16)(2,"span",17),t.EFF(3,"Loading..."),t.k0s()()())}function tt(n,a){1&n&&(t.j41(0,"div",15),t.nrm(1,"i",18),t.j41(2,"p",19),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"No_Saved_Cards")))}function et(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",20)(1,"div",21)(2,"div",22)(3,"div",23),t.nrm(4,"i",24),t.k0s(),t.j41(5,"div")(6,"h6",25),t.EFF(7),t.k0s()()(),t.j41(8,"div",26)(9,"button",27),t.bIt("click",function(){const s=t.eBV(e).$implicit,f=t.XpG();return t.Njj(f.deleteCard(s.id))}),t.nrm(10,"i",28),t.k0s()()()()}if(2&n){const e=a.$implicit,i=t.XpG();t.R7$(4),t.Y8G("ngClass",i.getCardIcon(e.brand)),t.R7$(3),t.JRh(e.maskedCard)}}function nt(n,a){1&n&&(t.j41(0,"div",15)(1,"div",16)(2,"span",17),t.EFF(3,"Loading..."),t.k0s()()())}function ot(n,a){1&n&&(t.j41(0,"div",15),t.nrm(1,"i",29),t.j41(2,"p",19),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"No_Meter_Transactions_History")))}function it(n,a){if(1&n&&(t.j41(0,"div",30)(1,"div",21)(2,"div",22)(3,"div",31),t.nrm(4,"i",32),t.k0s(),t.j41(5,"div")(6,"h6",25),t.EFF(7),t.k0s(),t.j41(8,"p",33)(9,"small"),t.nrm(10,"i",34),t.EFF(11),t.j41(12,"span",35),t.EFF(13,"|"),t.k0s(),t.nrm(14,"i",36),t.EFF(15),t.nI1(16,"date"),t.k0s()()()(),t.j41(17,"div",37)(18,"h6",38),t.EFF(19),t.nI1(20,"number"),t.nI1(21,"translate"),t.k0s(),t.j41(22,"span",39),t.EFF(23),t.nI1(24,"translate"),t.k0s()()()()),2&n){const e=a.$implicit,i=t.XpG();t.R7$(7),t.JRh(e.meterSerial),t.R7$(4),t.SpI("",e.compoundName," "),t.R7$(4),t.SpI("",t.i5U(16,7,e.createdAt,"mediumDate")," "),t.R7$(4),t.Lme(" ",t.bMT(20,10,e.amountCharged)," ",t.bMT(21,12,"LE")," "),t.R7$(3),t.Y8G("ngClass",i.getCurrentStatus(e.status).color),t.R7$(1),t.SpI(" ",t.bMT(24,14,i.getCurrentStatus(e.status).name)," ")}}const rt=function(){return["/Meter_Transactions"]};let at=(()=>{class n{constructor(e,i,o,s){this.profileService=e,this.paymentService=i,this.alertService=o,this.translate=s,this.savedCards=[],this.isLoading=!0}ngOnInit(){this.loadPaymentData()}loadPaymentData(){this.isLoading=!0,this.profileService.getSavedCards().subscribe({next:e=>{this.savedCards=e.data},error:e=>{this.alertService.ErrorNotification(this.translate.instant("Error_Loading_Cards"))}}),this.profileService.getTransactionHistory(new W.eH,new URLSearchParams).subscribe({next:e=>{if(200===e.status){const i=e.data?.content;this.meterTransactionHistory=i.slice(0,4)}else this.meterTransactionHistory=[]},error:e=>{this.alertService.ErrorNotification(this.translate.instant("Error_Loading_Transaction"))},complete:()=>{this.isLoading=!1}})}getCardIcon(e){const i={VISA:"fa-brands fa-cc-visa text-primary",MASTER:"fa-brands fa-cc-mastercard text-primary",default:"bi-credit-card-2-front-fill text-secondary"};return i[e.toUpperCase()]||i.default}openAddPaymentModal(){}getCurrentStatus(e){return(0,Q.qD)(e,"TRANSACTION_STATUS")}deleteCard(e){confirm(this.translate.instant("Confirm_Delete_Card"))}setDefaultCard(e){}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(m.p),t.rXU(K.W),t.rXU(g.u),t.rXU(d.c$))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-payment"]],decls:28,vars:17,consts:[[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title","mb-0"],[1,"card-body"],[1,"payment-methods"],["class","text-center py-4",4,"ngIf"],["class","card-item mb-3",4,"ngFor","ngForOf"],[1,"card-header"],[1,"billing-history"],["class","bill-item mb-3",4,"ngFor","ngForOf"],[1,"text-center","mt-3"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"fa-solid","fa-money-check-dollar"],[1,"text-center","py-4"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"bi","bi-credit-card","text-muted",2,"font-size","3rem"],[1,"mt-3","text-muted"],[1,"card-item","mb-3"],[1,"d-flex","justify-content-between","align-items-center","p-3","border","rounded"],[1,"d-flex","align-items-center"],[1,"card-icon","me-3"],[1,"bi",3,"ngClass"],[1,"mb-1"],[1,"card-actions"],[1,"btn","btn-outline-danger","me-2",3,"click"],[1,"bi","bi-trash"],[1,"bi","bi-receipt","text-muted",2,"font-size","3rem"],[1,"bill-item","mb-3"],[1,"transaction-icon","me-3"],[1,"bi","bi-lightning-charge-fill"],[1,"mb-0","text-muted"],[1,"bi","bi-building","me-1"],[1,"mx-2"],[1,"bi","bi-calendar","me-1"],[1,"text-end"],[1,"text-primary"],[1,"badge",3,"ngClass"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.j41(7,"div",5)(8,"div",6),t.DNE(9,Z,4,0,"div",7),t.DNE(10,tt,5,3,"div",7),t.DNE(11,et,11,2,"div",8),t.k0s()()()(),t.j41(12,"div",1)(13,"div",2)(14,"div",9)(15,"h4",4),t.EFF(16),t.nI1(17,"translate"),t.k0s()(),t.j41(18,"div",5)(19,"div",10),t.DNE(20,nt,4,0,"div",7),t.DNE(21,ot,5,3,"div",7),t.DNE(22,it,25,16,"div",11),t.k0s(),t.j41(23,"div",12)(24,"button",13),t.nrm(25,"i",14),t.EFF(26),t.nI1(27,"translate"),t.k0s()()()()()()),2&i&&(t.R7$(5),t.JRh(t.bMT(6,10,"Saved_Payment_Methods")),t.R7$(4),t.Y8G("ngIf",o.isLoading),t.R7$(1),t.Y8G("ngIf",!o.isLoading&&0===o.savedCards.length),t.R7$(1),t.Y8G("ngForOf",o.savedCards),t.R7$(5),t.JRh(t.bMT(17,12,"Meter_Transactions")),t.R7$(4),t.Y8G("ngIf",o.isLoading),t.R7$(1),t.Y8G("ngIf",!(o.isLoading||o.meterTransactionHistory&&0!==o.meterTransactionHistory.length)),t.R7$(1),t.Y8G("ngForOf",o.meterTransactionHistory),t.R7$(2),t.Y8G("routerLink",t.lJ4(16,rt)),t.R7$(2),t.SpI(" ",t.bMT(27,14,"View_More")," "))},dependencies:[l.YU,l.Sq,l.bT,p.Wk,l.QX,l.vh,d.D9],styles:[".card-item[_ngcontent-%COMP%], .bill-item[_ngcontent-%COMP%]{transition:all .3s ease}.card-item[_ngcontent-%COMP%]:hover, .bill-item[_ngcontent-%COMP%]:hover{box-shadow:0 .125rem .25rem #00000013}.card-icon[_ngcontent-%COMP%], .transaction-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%}.transaction-icon[_ngcontent-%COMP%]{color:#007bff;background-color:#007bff1a}.badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.35em .65em;font-weight:500}.btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#dc3545;color:#fff}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff}.spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem}.text-muted[_ngcontent-%COMP%]{color:#6c757d!important}.card-item[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%], .bill-item[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border-color:#dee2e6!important}.card-item[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]:hover, .bill-item[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]:hover{border-color:#007bff!important}"]})}}return n})();function st(n,a){1&n&&t.nrm(0,"span",28)}const ct=[{path:"",component:F,children:[{path:"",component:z},{path:"Edit_Profile",component:X},{path:"Change_Password",component:T},{path:"Account_Setting",component:(()=>{class n{constructor(e,i,o,s){this.fb=e,this.notificationService=i,this.profileService=o,this.translate=s,this.isLoading=!0}createForm(){this.form=this.fb.group({pushNotifications:[!1,r.k0.required],emailNotifications:[!1,r.k0.required],smsNotifications:[!1,r.k0.required],billReminders:[!1,r.k0.required],usageAlerts:[!1,r.k0.required],appearanceMode:[null,r.k0.required],language:[null,r.k0.required]})}get f(){return this.form.controls}ngOnInit(){this.createForm(),this.getNotificationData()}setFormValue(e){this.f.pushNotifications.setValue(e.pushNotifications),this.f.emailNotifications.setValue(e.emailNotifications),this.f.smsNotifications.setValue(e.smsNotifications),this.f.billReminders.setValue(e.billReminders),this.f.usageAlerts.setValue(e.usageAlerts),this.f.appearanceMode.setValue(e.appearanceMode),this.f.language.setValue(e.language)}getNotificationData(){this.profileService.getNotificationPreferences().subscribe({next:e=>{console.log(e),e.data&&this.setFormValue(e.data),this.isLoading=!1},error:e=>{this.notificationService.ErrorNotification(this.translate.instant(`${e}`)),this.isLoading=!1},complete:()=>{this.isLoading=!1}})}onUpdateSetting(){this.isLoading=!0,this.profileService.updateNotificationPreferences(this.form.value).subscribe({next:e=>{console.log(e),200===e.status?this.notificationService.SuccessNotification(this.translate.instant("Update_Notification_msg")):(this.notificationService.ErrorNotification(e.code),this.isLoading=!1)},error:e=>{this.notificationService.ErrorNotification(this.translate.instant("Update_Notification_Error")),this.isLoading=!1},complete:()=>this.isLoading=!1})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(r.ok),t.rXU(g.u),t.rXU(m.p),t.rXU(d.c$))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-account-setting"]],decls:71,vars:51,consts:[[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],[3,"formGroup"],[1,"settings-section","mb-4"],[1,"mb-3"],[1,"form-group","mb-3"],[1,"form-label"],["formControlName","appearanceMode",1,"form-select"],["value","LIGHT"],["value","DARK"],["formControlName","language",1,"form-select"],["value","ENGLISH"],["value","ARABIC"],[1,"form-check","form-switch","mb-3"],["type","checkbox","formControlName","pushNotifications","id","pushNotifications",1,"form-check-input"],["for","emailNotif",1,"form-check-label"],["type","checkbox","formControlName","emailNotifications","id","emailNotifications",1,"form-check-input"],["type","checkbox","formControlName","smsNotifications","id","smsNotif",1,"form-check-input"],["for","smsNotif",1,"form-check-label"],["type","checkbox","formControlName","billReminders","id","billReminders",1,"form-check-input"],["for","billReminders",1,"form-check-label"],["type","checkbox","formControlName","usageAlerts","id","usageAlerts",1,"form-check-input"],["for","usageAlerts",1,"form-check-label"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"click"],["class","spinner-border spinner-border-sm me-1","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-1"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"h4",2),t.EFF(3),t.nI1(4,"translate"),t.k0s()(),t.j41(5,"div",3)(6,"form",4)(7,"div",5)(8,"h5",6),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"div",7)(12,"label",8),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"select",9)(16,"option",10),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"option",11),t.EFF(20),t.nI1(21,"translate"),t.k0s()()(),t.j41(22,"div",7)(23,"label",8),t.EFF(24),t.nI1(25,"translate"),t.k0s(),t.j41(26,"select",12)(27,"option",13),t.EFF(28),t.nI1(29,"translate"),t.k0s(),t.j41(30,"option",14),t.EFF(31),t.nI1(32,"translate"),t.k0s()()()(),t.j41(33,"div",5)(34,"h5",6),t.EFF(35),t.nI1(36,"translate"),t.k0s(),t.j41(37,"div",15),t.nrm(38,"input",16),t.j41(39,"label",17),t.EFF(40),t.nI1(41,"translate"),t.k0s()(),t.j41(42,"div",15),t.nrm(43,"input",18),t.j41(44,"label",17),t.EFF(45),t.nI1(46,"translate"),t.k0s()(),t.j41(47,"div",15),t.nrm(48,"input",19),t.j41(49,"label",20),t.EFF(50),t.nI1(51,"translate"),t.k0s()()(),t.j41(52,"div",5)(53,"h5",6),t.EFF(54),t.nI1(55,"translate"),t.k0s(),t.j41(56,"div",15),t.nrm(57,"input",21),t.j41(58,"label",22),t.EFF(59),t.nI1(60,"translate"),t.k0s()(),t.j41(61,"div",15),t.nrm(62,"input",23),t.j41(63,"label",24),t.EFF(64),t.nI1(65,"translate"),t.k0s()()(),t.j41(66,"div",25)(67,"button",26),t.bIt("click",function(){return o.onUpdateSetting()}),t.DNE(68,st,1,0,"span",27),t.EFF(69),t.nI1(70,"translate"),t.k0s()()()()()),2&i&&(t.R7$(3),t.JRh(t.bMT(4,19,"Account_Settings")),t.R7$(3),t.Y8G("formGroup",o.form),t.R7$(3),t.JRh(t.bMT(10,21,"Appearance")),t.R7$(4),t.JRh(t.bMT(14,23,"Theme")),t.R7$(4),t.JRh(t.bMT(18,25,"Light")),t.R7$(3),t.JRh(t.bMT(21,27,"Dark")),t.R7$(4),t.JRh(t.bMT(25,29,"Language")),t.R7$(4),t.JRh(t.bMT(29,31,"English")),t.R7$(3),t.JRh(t.bMT(32,33,"Arabic")),t.R7$(4),t.JRh(t.bMT(36,35,"Notifications")),t.R7$(5),t.SpI(" ",t.bMT(41,37,"Push_Notifications")," "),t.R7$(5),t.SpI(" ",t.bMT(46,39,"Email_Notifications")," "),t.R7$(5),t.SpI(" ",t.bMT(51,41,"SMS_Notifications")," "),t.R7$(4),t.JRh(t.bMT(55,43,"Alerts")),t.R7$(5),t.SpI(" ",t.bMT(60,45,"bill_Reminders")," "),t.R7$(5),t.SpI(" ",t.bMT(65,47,"usage_Alert")," "),t.R7$(3),t.BMQ("disabled",!o.form.valid||null),t.R7$(1),t.Y8G("ngIf",o.isLoading),t.R7$(1),t.SpI(" ",t.bMT(70,49,"Save_Changes")," "))},dependencies:[l.bT,r.qT,r.xH,r.y7,r.Zm,r.wz,r.BC,r.cb,r.j4,r.JD,d.D9],styles:[".card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 4px #0000001a;background-color:#fff;margin-bottom:15px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #ddd;padding:15px;border-radius:8px 8px 0 0}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#333}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:15px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .settings-section[_ngcontent-%COMP%]{padding-bottom:15px;border-bottom:1px dashed #eee;margin-bottom:15px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .settings-section[_ngcontent-%COMP%]:last-of-type{border-bottom:none;margin-bottom:0}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .settings-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#007bff;margin-bottom:10px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .settings-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:10px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .settings-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#333;margin-bottom:5px;display:block}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .settings-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #ced4da;background-color:#fff;color:#495057;padding:.75rem 1rem;transition:all .3s ease}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .settings-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 0 .25rem #007bff40;background-color:#fff}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .settings-section[_ngcontent-%COMP%]   .form-check.form-switch[_ngcontent-%COMP%]{margin-bottom:10px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .settings-section[_ngcontent-%COMP%]   .form-check.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:40px;height:24px;margin-right:5px;background-color:#e9ecef;border-color:#e9ecef;transition:all .3s ease}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .settings-section[_ngcontent-%COMP%]   .form-check.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#007bff;border-color:#007bff}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .settings-section[_ngcontent-%COMP%]   .form-check.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #007bff40}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .settings-section[_ngcontent-%COMP%]   .form-check.form-switch[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{color:#333;font-size:16px;cursor:pointer}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;color:#fff;font-weight:700;padding:.85rem 1.5rem;border-radius:4px;transition:all .3s ease}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;border-color:#0056b3;transform:translateY(-2px);box-shadow:0 5px 15px #007bff33}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none;box-shadow:none}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{color:#fff}@media (max-width: 768px){.card-body[_ngcontent-%COMP%]{padding:10px}.card-body[_ngcontent-%COMP%]   .settings-section[_ngcontent-%COMP%]{padding-bottom:10px;margin-bottom:10px}.card-body[_ngcontent-%COMP%]   .settings-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px}}"]})}}return n})()},{path:"Payment",component:at},{path:"Support",component:H}]}];let lt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[p.iI.forChild(ct),p.iI]})}}return n})(),dt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[l.MD,r.YN,r.X1,d.h,_.n8,lt]})}}return n})()}}]);